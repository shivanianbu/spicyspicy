{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ShivaniAnbu\\\\react\\\\spicycorner\\\\client\\\\src\\\\components\\\\customer\\\\cart\\\\Cart.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { GlobalState } from '../../../GlobalState';\nimport axios from 'axios'; // import PaypalButton from './PaypalButton'\n\nfunction Cart() {\n  const state = useContext(GlobalState);\n  const [cart] = state.userAPI.cart; // const [token] = state.token\n\n  const [total, setTotal] = useState(0); // useEffect(() =>{\n  //     const getTotal = () =>{\n  //         const total = cart.reduce((prev, item) => {\n  //             return prev + (item.price * item.quantity)\n  //         },0)\n  //         setTotal(total)\n  //     }\n  //     getTotal()\n  // },[cart])\n  // const addToCart = async (cart) =>{\n  //     await axios.patch('/user/addcart', {cart}, {\n  //         headers: {Authorization: token}\n  //     })\n  // }\n  // const increment = (id) =>{\n  //     cart.forEach(item => {\n  //         if(item._id === id){\n  //             item.quantity += 1\n  //         }\n  //     })\n  //     setCart([...cart])\n  //     addToCart(cart)\n  // }\n  // const decrement = (id) =>{\n  //     cart.forEach(item => {\n  //         if(item._id === id){\n  //             item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1\n  //         }\n  //     })\n  //     setCart([...cart])\n  //     addToCart(cart)\n  // }\n  // const removeProduct = id =>{\n  //     if(window.confirm(\"Do you want to delete this product ?\")){\n  //         cart.forEach((item, index) => {\n  //             if(item._id === id){\n  //                 cart.splice(index, 1)\n  //             }\n  //         })\n  //         setCart([...cart])\n  //         addToCart(cart)\n  //     }\n  // }\n  // const tranSuccess = async(payment) => {\n  //     const {paymentID, address} = payment;\n  //     await axios.post('/api/payment', {cart, paymentID, address}, {\n  //         headers: {Authorization: token}\n  //     })\n  //     setCart([])\n  //     addToCart([])\n  //     alert(\"You have successfully placed an order.\")\n  // }\n\n  if (cart.length === 0) return /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: \"center\",\n      fontSize: \"5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }\n  }, \"Cart Empty\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, cart.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail cart\",\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.images.url,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }, product.title), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, \"$ \", product.price * product.quantity), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, product.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 1\n    }\n  }, \" - \"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, product.quantity), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 33\n    }\n  }, \" + \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"delete\",\n    onClick: () => removeProduct(product._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, \"X\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, \"Total: $ \", total), /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Payment\")));\n}\n\nexport default Cart;","map":{"version":3,"sources":["C:/Users/ShivaniAnbu/react/spicycorner/client/src/components/customer/cart/Cart.js"],"names":["React","useContext","useState","useEffect","Link","GlobalState","axios","Cart","state","cart","userAPI","total","setTotal","length","textAlign","fontSize","map","product","_id","images","url","title","price","quantity","description","removeProduct"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\n// import PaypalButton from './PaypalButton'\r\n\r\nfunction Cart() {\r\n    const state = useContext(GlobalState)\r\n    const [cart] = state.userAPI.cart\r\n    // const [token] = state.token\r\n    const [total, setTotal] = useState(0)\r\n\r\n    // useEffect(() =>{\r\n    //     const getTotal = () =>{\r\n    //         const total = cart.reduce((prev, item) => {\r\n    //             return prev + (item.price * item.quantity)\r\n    //         },0)\r\n\r\n    //         setTotal(total)\r\n    //     }\r\n\r\n    //     getTotal()\r\n\r\n    // },[cart])\r\n\r\n    // const addToCart = async (cart) =>{\r\n    //     await axios.patch('/user/addcart', {cart}, {\r\n    //         headers: {Authorization: token}\r\n    //     })\r\n    // }\r\n\r\n\r\n    // const increment = (id) =>{\r\n    //     cart.forEach(item => {\r\n    //         if(item._id === id){\r\n    //             item.quantity += 1\r\n    //         }\r\n    //     })\r\n\r\n    //     setCart([...cart])\r\n    //     addToCart(cart)\r\n    // }\r\n\r\n    // const decrement = (id) =>{\r\n    //     cart.forEach(item => {\r\n    //         if(item._id === id){\r\n    //             item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1\r\n    //         }\r\n    //     })\r\n\r\n    //     setCart([...cart])\r\n    //     addToCart(cart)\r\n    // }\r\n\r\n    // const removeProduct = id =>{\r\n    //     if(window.confirm(\"Do you want to delete this product ?\")){\r\n    //         cart.forEach((item, index) => {\r\n    //             if(item._id === id){\r\n    //                 cart.splice(index, 1)\r\n    //             }\r\n    //         })\r\n\r\n    //         setCart([...cart])\r\n    //         addToCart(cart)\r\n    //     }\r\n    // }\r\n\r\n    // const tranSuccess = async(payment) => {\r\n    //     const {paymentID, address} = payment;\r\n\r\n    //     await axios.post('/api/payment', {cart, paymentID, address}, {\r\n    //         headers: {Authorization: token}\r\n    //     })\r\n\r\n    //     setCart([])\r\n    //     addToCart([])\r\n    //     alert(\"You have successfully placed an order.\")\r\n    // }\r\n\r\n\r\n    if(cart.length === 0) \r\n        return <h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Cart Empty</h2> \r\n\r\n    return (\r\n        <div>\r\n            {\r\n                cart.map(product => (\r\n                    <div className=\"detail cart\" key={product._id}>\r\n                        <img src={product.images.url} alt=\"\" />\r\n\r\n                        <div className=\"box-detail\">\r\n                            <h2>{product.title}</h2>\r\n\r\n                            <h3>$ {product.price * product.quantity}</h3>\r\n                            <p>{product.description}</p>\r\n                            {/* <p>{product.content}</p> */}\r\n\r\n                            <div className=\"amount\">\r\n                                {/* <button onClick={() => decrement(product._id)}> - </button>\r\n                                <span>{product.quantity}</span>\r\n                                <button onClick={() => increment(product._id)}> + </button> */}\r\n\r\n<button > - </button>\r\n                                <span>{product.quantity}</span>\r\n                                <button> + </button>\r\n                            </div>\r\n                            \r\n                            <div className=\"delete\" \r\n                            onClick={() => removeProduct(product._id)}>\r\n                                X\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n\r\n            <div className=\"total\">\r\n                <h3>Total: $ {total}</h3>\r\n                {/* <PaypalButton\r\n                total={total}\r\n                tranSuccess={tranSuccess} /> */}\r\n                <Link to=\"#\">Payment</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}